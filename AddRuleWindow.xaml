<Window x:Class="BrowserSelector.AddRuleWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:BrowserSelector.Controls"
        x:Name="RuleEditorWindow"
        Title="Add New URL Rule" Height="450" Width="550"
        WindowStartupLocation="CenterOwner" Background="#F5F5F5"
        ResizeMode="NoResize">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>      <!-- Scrollable content -->
            <RowDefinition Height="Auto"/>   <!-- Fixed buttons -->
        </Grid.RowDefinitions>

        <!-- Scrollable Content -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Padding="24,24,24,0">
            <StackPanel>
                <!-- Title -->
                <TextBlock x:Name="WindowTitle" Text="Add New URL Rule" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>

                <!-- URL Pattern -->
                <StackPanel Margin="0,0,0,15">
                    <TextBlock Text="URL Pattern:" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                    <TextBox x:Name="PatternTextBox" Padding="10" Height="38" FontSize="13" BorderBrush="#CCC"/>
                    <TextBlock Text="Enter domain or partial URL (e.g., github.com, google, localhost)"
                               FontSize="11" Foreground="#666" Margin="0,5,0,0"/>
                </StackPanel>

                <!-- Browser/Profile Selection (reusable component) -->
                <controls:BrowserProfileMultiSelector x:Name="ProfileSelector" Margin="0,5,0,0"/>
            </StackPanel>
        </ScrollViewer>

        <!-- Fixed Buttons at Bottom -->
        <Border Grid.Row="1" Background="#F5F5F5" Padding="24,16,24,24">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="SaveButton" Content="Save" Click="SaveButton_Click" Width="100" Height="40" Margin="0,0,12,0"
                        Background="#4CAF50" Foreground="White" BorderThickness="0" FontWeight="Bold" FontSize="14" Cursor="Hand">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="4">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Border" Property="Background" Value="#45A049"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button Content="Cancel" Click="CancelButton_Click" Width="100" Height="40"
                        Background="#9E9E9E" Foreground="White" BorderThickness="0" FontWeight="Bold" FontSize="14" Cursor="Hand">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="4">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Border" Property="Background" Value="#757575"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>
