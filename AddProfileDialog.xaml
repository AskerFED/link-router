<Window x:Class="BrowserSelector.AddProfileDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Name="DialogWindow"
        Title="Add Profile" Height="380" Width="420"
        WindowStartupLocation="CenterOwner" Background="#F5F5F5"
        ResizeMode="NoResize">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Scrollable Content -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" Padding="24,24,24,0">
            <StackPanel>
                <!-- Browser Selection -->
                <StackPanel Margin="0,0,0,18">
                    <TextBlock Text="Browser:" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                    <ComboBox x:Name="BrowserComboBox" Height="38" SelectionChanged="BrowserComboBox_SelectionChanged" Background="White" BorderBrush="#CCC" Padding="10,5">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Ellipse Width="12" Height="12" Fill="{Binding Color}" Margin="0,0,10,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding Name}" FontSize="13" VerticalAlignment="Center"/>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>

                <!-- Profile Selection -->
                <StackPanel Margin="0,0,0,18">
                    <TextBlock Text="Profile:" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                    <ComboBox x:Name="ProfileComboBox" Height="38" Background="White" BorderBrush="#CCC" Padding="10,5">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="12"/>
                                    <TextBlock Text="{Binding Path}" FontSize="9" Foreground="#666" TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </StackPanel>

                <!-- Custom Name -->
                <StackPanel Margin="0,0,0,10">
                    <TextBlock Text="Custom Name (optional):" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                    <TextBox x:Name="CustomNameTextBox" Height="35" Padding="10,8" FontSize="13" Background="White" BorderBrush="#CCC"/>
                    <TextBlock Text="Displayed in picker instead of the default name" FontSize="11" Foreground="#666" Margin="0,4,0,0"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons (fixed at bottom) -->
        <Border Grid.Row="1" Background="#F5F5F5" Padding="24,16,24,24">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="ActionButton" Content="Add" Click="AddButton_Click" Width="90" Height="36" Margin="0,0,12,0"
                        Background="#0078D4" Foreground="White" BorderThickness="0" FontWeight="SemiBold" FontSize="13" Cursor="Hand">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="4">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Border" Property="Background" Value="#106EBE"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button Content="Cancel" Click="CancelButton_Click" Width="90" Height="36"
                        Background="#9E9E9E" Foreground="White" BorderThickness="0" FontWeight="SemiBold" FontSize="13" Cursor="Hand">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="4">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Border" Property="Background" Value="#757575"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>
